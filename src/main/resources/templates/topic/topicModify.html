<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

    <th:block th:replace="~{./include/baseLayout :: setContent( ~{ :: .wrap } ) }">
    <div class="wrap">
        <div class="warp_inner">
            <!-- left_menu end -->
            <div class="right_content">
                <div class="midiaq">
                    <div class="mainWrapper"> 
						<div class="ipssGiudeBlock" style="color:red; font-size: large;">
							-요구사항<br>
							-판매자는 등록한 본인에 글에 대해 수정, 삭제할 수 있다.<br>
							-해당 글에 해당하는 정보를 미리보여주도록 처리한다. <br>
                            <br>
                            
						</div>
					</div>
                    <div class="page_title">게시글 연습 > <span class="page_subtitle">글수정/삭제</span></div>
                    <form name="actionForm" action="#" method="post">
                        <div class="full_collum collum">
                            <ul>
                                <li class="collum_tit">
                                    <h2>게시글관리</h2>
                                    <input type="hidden" name="topicId" th:value="${vo.topicId}">
                                    <span class="showtoggle minus"></span>
                                    <ul>
                                        <li>
                                            <table cellpadding="0" cellspacing="0" class="board_basic_view"
                                                width="100%;">
                                                <tr>
                                                    <th>등록일</th>
                                                    <td>
                                                        <span>[[${#temporals.format(vo.topicRegdate, 'yyyy-MM-dd')}]]</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>아이디</th>
                                                    <td><input type="text" class="inputw150" name="topicWriter" readonly th:value="${vo.topicWriter}"></td>
                                                </tr>

                                                <tr>
                                                    <th>제목</th>
                                                    <td colspan="5"><input type="text" class="inputw99p" name="topicTitle" th:value="${vo.topicTitle}" required></td>
                                                </tr>


                                                
                                                <tr>
                                                    <th>내용</th>
                                                    <td colspan="5">
                                                        <div><textarea  class="inputw99p" name="topicContent" style="height: 200px;">[[${vo.topicContent}]]</textarea>
                                                        </div>
                                                    </td>
                                                </tr>


                                            </table>
                                            <div class="btn_area">
                                                <!-- 
                                                <input type="submit" class="save" value="등록">
                                            	<input type="button" class="delete" value="목록">
                                                 -->
                                                <a href="#" class="save" id="save">수정</a>
                                                <a href="#" class="delete" onclick="location.href='/topic/topicListMe'">목록</a>
                                                <a href="#" class="revise mglr13" id="delete">삭제</a>
                                                
                                            </div>
                                        </li>

                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </form>
                </div>
            </div>
            <!-- right_content end -->
        </div>
        <div class="dim_layer">
        </div>
    </div><!-- end wrap -->
    </th:block>

    <script th:inline="javascript">

        const saveBtn = document.getElementById("save");
        const deleteBtn = document.getElementById("delete");

        saveBtn.addEventListener('click', function(e) {
            e.preventDefault();
            document.actionForm.action = "topicUpdate";
            document.actionForm.submit();
        });

        deleteBtn.addEventListener('click', function(e) {
            e.preventDefault();
            document.actionForm.action = "topicDelete";
            document.actionForm.submit();
        });

        let msg = JSON.parse('[[${msg}]]');
        if(msg != null && history.state == null) {
            alert(msg);
            history.replaceState('back', '', null);
        }

    </script>

</html>